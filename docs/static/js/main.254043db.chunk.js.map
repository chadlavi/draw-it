{"version":3,"sources":["randomPhrase.js","addBackgroundToCanvas.js","App.js","useWidth.js","useClickAway.js","download.js","index.js"],"names":["prompts","defaultProps","loadTimeOffset","lazyRadius","brushRadius","catenaryColor","gridColor","hideGrid","canvasWidth","canvasHeight","disabled","imgSrc","saveData","immediateLoading","hideInterface","colors","paletteWidth","Math","ceil","length","getImg","ref","srcCanvas","color","destinationCanvas","document","createElement","width","height","destCtx","getContext","fillStyle","fillRect","drawImage","toDataURL","addBackgroundToCanvas","current","canvasContainer","children","prompt","floor","random","App","initRW","Boolean","localStorage","getItem","canvasRef","React","createRef","useState","brushColor","setBrushColor","showColor","setShowColor","setSaveData","rw","setRW","undefined","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","paletteRef","callback","innerRef","useRef","callbackRef","handleMouseDown","e","contains","target","handleTouchStart","handleClick","useClickAway","forwardWidth","min","props","className","classNames","onChange","id","role","aria-label","onClick","setItem","s","triangle","onChangeComplete","c","hex","undo","clear","dataURL","filename","a","href","setAttribute","click","download","Date","toISOString","src","alt","rows","value","readOnly","rootElement","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.254043db.chunk.js","sourcesContent":["const prompts = [\n  \"jazz elephant\",\n  \"cat hates cucumber\",\n  \"can't stop talking about my new hat\",\n  \"where everybody knows your name\",\n  \"learning to ride a skateboard\",\n  \"they're all gonna laugh at you\",\n  \"dog peeing on a fence\",\n  \"eight truly miniscule reindeer\",\n  \"houseplants\",\n  \"parallel parking\",\n  \"Nobel Prize award ceremony interrupted by flatulence\",\n  \"your favorite bagel order\",\n  \"huffing glue\",\n  \"riding a tricycle\",\n  \"I thought this was a costume party\",\n];\n\nexport const randomPhrase = () =>\n  prompts[Math.floor(Math.random() * prompts.length)];\n","/**\n * @param {HTMLCanvasElement} srcCanvas\n * @param {string} color\n */\nexport const addBackgroundToCanvas = (srcCanvas, color = \"#FFFFFF\") => {\n  const destinationCanvas = document.createElement(\"canvas\");\n  destinationCanvas.width = srcCanvas.width;\n  destinationCanvas.height = srcCanvas.height;\n\n  const destCtx = destinationCanvas.getContext(\"2d\");\n\n  destCtx.fillStyle = color;\n  destCtx.fillRect(0, 0, srcCanvas.width, srcCanvas.height);\n\n  destCtx.drawImage(srcCanvas, 0, 0);\n\n  return destinationCanvas.toDataURL();\n};\n","import React from \"react\";\nimport CanvasDraw from \"react-canvas-draw\";\nimport { GithubPicker } from \"react-color\";\nimport \"./styles.css\";\nimport { useClickAway } from \"./useClickAway\";\n\nimport classNames from \"classnames\";\nimport { useWindowSize } from \"./useWidth\";\nimport { randomPhrase } from \"./randomPhrase\";\nimport { download } from \"./download\";\nimport { addBackgroundToCanvas } from \"./addBackgroundToCanvas\";\n\nconst DEFAULT_SIZE = 600;\n\nconst defaultProps = {\n  loadTimeOffset: 5,\n  lazyRadius: 0,\n  brushRadius: 2,\n  catenaryColor: \"#0a0302\",\n  gridColor: \"rgba(150,150,150,0.17)\",\n  hideGrid: true,\n  canvasWidth: DEFAULT_SIZE,\n  canvasHeight: DEFAULT_SIZE,\n  disabled: false,\n  imgSrc: \"\",\n  saveData: \"\",\n  immediateLoading: false,\n  hideInterface: false,\n};\n\nconst colors = [\n  \"#B80000\",\n  \"#DB3E00\",\n  \"#FCCB00\",\n  \"#008B02\",\n  \"#006B76\",\n  \"#1273DE\",\n  \"#004DCF\",\n  \"#5300EB\",\n  \"#000000\",\n  \"#EB9694\",\n  \"#FAD0C3\",\n  \"#FEF3BD\",\n  \"#C1E1C5\",\n  \"#BEDADC\",\n  \"#C4DEF6\",\n  \"#BED3F3\",\n  \"#D4C4FB\",\n  \"#CCCCCC\",\n];\n\nconst paletteWidth = `${Math.ceil(colors.length / 2) * 32}px`;\n\nconst getImg = (ref) =>\n  addBackgroundToCanvas(ref.current.canvasContainer.children[1], \"#FFFFFF\");\n\nconst prompt = randomPhrase();\n\nexport default function App() {\n  const initRW = Boolean(localStorage.getItem(\"rotation_warning\") !== \"false\");\n  const canvasRef = React.createRef(null);\n  const [brushColor, setBrushColor] = React.useState(\"#000000\");\n  const [showColor, setShowColor] = React.useState(false);\n  const [saveData, setSaveData] = React.useState(\"\");\n  const [rw, setRW] = React.useState(initRW);\n\n  const { width } = useWindowSize();\n\n  const paletteRef = useClickAway(() => {\n    setShowColor(false);\n  });\n\n  const handleClear = () => {\n    canvasRef.current.clear();\n    setSaveData(\"\");\n  };\n\n  const handleCanvasChange = () => {\n    const saveData = getImg(canvasRef);\n    setSaveData(saveData);\n  };\n\n  const handleDismissRW = () => {\n    localStorage.setItem(\"rotation_warning\", \"false\");\n    setRW(false);\n  };\n\n  const handleDownload = () => {\n    download(saveData, `${new Date().toISOString()}.png`);\n  };\n\n  const forwardWidth = Math.min(DEFAULT_SIZE, width);\n\n  const props = {\n    ...defaultProps,\n    canvasWidth: forwardWidth,\n    canvasHeight: forwardWidth,\n    className: classNames(\"canvas\"),\n    onChange: handleCanvasChange,\n    ref: canvasRef,\n    brushColor,\n    catenaryColor: brushColor,\n  };\n\n  return (\n    <main id=\"app\">\n      {rw && (\n        <div id=\"rotate-me\">\n          <div>\n            <span role=\"img\" aria-label=\"\">\n              ‚ö†Ô∏è\n            </span>{\" \"}\n            This works best in portrait mode on this device!\n          </div>\n          <div className=\"dismissRWButton\">\n            <button onClick={handleDismissRW}>\n              let me play this way anyway\n            </button>\n          </div>\n        </div>\n      )}\n      <div className=\"prompt\">\n        draw this:\n        <div>\n          <b>&quot;{prompt}&quot;</b>\n        </div>\n      </div>\n      <CanvasDraw {...props} />\n      <div className=\"button-container\">\n        <div ref={paletteRef} className=\"picker-container\">\n          <button\n            className=\"palette\"\n            onClick={() => {\n              setShowColor((s) => !s);\n            }}\n          >\n            <span role=\"img\" aria-label=\"\">\n              üé®\n            </span>{\" \"}\n            color&#8230;\n          </button>\n          {showColor && (\n            <div className=\"picker-popper\">\n              <GithubPicker\n                triangle={\"hide\"}\n                color={brushColor}\n                colors={colors}\n                width={paletteWidth}\n                onChangeComplete={(c) => setBrushColor(c.hex)}\n              />\n            </div>\n          )}\n        </div>\n        <button\n          className=\"undo\"\n          onClick={() => {\n            canvasRef.current.undo();\n          }}\n        >\n          <span role=\"img\" aria-label=\"\">\n            ‚Ü©Ô∏è\n          </span>{\" \"}\n          undo\n        </button>\n        <button className=\"clear\" onClick={handleClear}>\n          <span className=\"non-hover\" role=\"img\" aria-label=\"\">\n            üí£\n          </span>{\" \"}\n          <span className=\"hover\" role=\"img\" aria-label=\"\">\n            üß®\n          </span>{\" \"}\n          clear\n        </button>\n        {saveData && (\n          <button className=\"save\" onClick={handleDownload}>\n            <span role=\"img\" aria-label=\"\">\n              üì≤\n            </span>{\" \"}\n            download\n          </button>\n        )}\n      </div>\n      {saveData && (\n        <>\n          <p>\n            <br />\n            ##########################\n            <br /># ~*~ DEBUGGING INFO ~*~ #<br />\n            ##########################\n          </p>\n          <img src={saveData} alt=\"\" />\n          <textarea rows={10} value={saveData} readOnly />\n        </>\n      )}\n    </main>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","import { useRef, useEffect } from \"react\";\n\nexport function useClickAway(callback) {\n  const innerRef = useRef();\n  const callbackRef = useRef();\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleMouseDown);\n    return () => document.removeEventListener(\"mousedown\", handleMouseDown);\n\n    function handleMouseDown(e) {\n      if (\n        innerRef.current &&\n        callbackRef.current &&\n        !innerRef.current.contains(e.target)\n      ) {\n        callbackRef.current(e);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"touchstart\", handleTouchStart);\n    return () => document.removeEventListener(\"touchstart\", handleTouchStart);\n\n    function handleTouchStart(e) {\n      if (\n        innerRef.current &&\n        callbackRef.current &&\n        !innerRef.current.contains(e.target)\n      ) {\n        callbackRef.current(e);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n    return () => document.removeEventListener(\"click\", handleClick);\n\n    function handleClick(e) {\n      if (\n        innerRef.current &&\n        callbackRef.current &&\n        !innerRef.current.contains(e.target)\n      ) {\n        callbackRef.current(e);\n      }\n    }\n  }, []);\n\n  return innerRef;\n}\n","export function download(dataURL, filename) {\n  const a = document.createElement(\"a\");\n  a.href = dataURL;\n  a.setAttribute(\"download\", filename);\n  a.click();\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}